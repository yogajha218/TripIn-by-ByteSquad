import{y as l,r as n,W as N,j as e,a as d}from"./app-sHW-cJX8.js";import{B as P}from"./ButtonComponent-DnHZYjYL.js";const A=()=>{const f=l.restore("legal-data")||{termsClicked:!1,privacyClicked:!1},g=l.restore("form-data")||{email:"",password:"",confirmPassword:"",termsAccepted:!1},[t,o]=n.useState(!1),[s,m]=n.useState(f),[y,p]=n.useState(!1),[x,h]=n.useState(""),{data:a,setData:i,post:u,processing:k,errors:c}=N(g);n.useEffect(()=>{s.termsClicked&&s.privacyClicked&&i("termsAccepted",!0),l.remember(s,"legal-data")},[s]),a.email&&a.password&&(t||a.confirmPassword&&a.termsAccepted);const w=r=>{r.preventDefault();const j=document.head.querySelector('meta[name="csrf-token"]').content;if(!t){if(!s.termsClicked||!s.privacyClicked){h("Please complete the required steps to sign up");return}if(!a.termsAccepted){h("Please accept the Terms & Conditions and Privacy Policy");return}}t?u("/login"):u("/register",a,{headers:{"X-CSRF-TOKEN":j}})},b=r=>{r.preventDefault(),m({...s,termsClicked:!0}),l.remember(s,"legal-data"),l.remember(a,"form-data"),window.location.href="/terms-condition"},C=r=>{r.preventDefault(),m({...s,privacyClicked:!0}),l.remember(s,"legal-data"),l.remember(a,"form-data"),window.location.href="/privacy-policy"},v=r=>{!s.termsClicked||!s.privacyClicked?(p(!0),i("termsAccepted",!1)):(p(!1),i("termsAccepted",r.target.checked))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"lg:flex lg:justify-center",children:e.jsxs("div",{className:"flex min-h-screen flex-col bg-primary lg:w-[400px]",children:[e.jsx("div",{className:"flex justify-center py-16",children:e.jsx("img",{src:"/TripInLogo.svg",className:"w-32",alt:"Logo of TripIn"})}),e.jsxs("div",{className:"relative top-[24px] flex w-full",children:[e.jsx("div",{className:`top-4 h-[48px] flex-1 rounded-[30px] ${t?"bg-white":"bg-primary"}`,children:e.jsx("button",{className:`w-full rounded-b-none rounded-t-[30px] bg-transparent py-3 text-center ${t?"text-black":"text-white"}`,onClick:()=>o(!0),children:"Sign In"})}),e.jsx("div",{className:`top-4 h-[48px] flex-1 rounded-[30px] ${t?"bg-primary":"bg-white"}`,children:e.jsx("button",{className:`w-full rounded-b-none rounded-t-[30px] bg-transparent py-3 text-center ${t?"text-white":"text-black"}`,onClick:()=>o(!1),children:"Sign Up"})})]}),e.jsx("div",{className:"min-h-[calc(100vh-240px)] flex-1 bg-white px-6 py-12",children:e.jsxs("div",{className:"mx-auto max-w-md",children:[e.jsx("h2",{className:"texx-black mb-6 text-lg font-medium",children:t?"Login to your Account":"Create your Account"}),e.jsxs("form",{className:"space-y-4",onSubmit:w,children:[e.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Email",className:"w-full rounded-lg border border-gray-300 bg-white p-3 text-black",value:a.email,onChange:r=>i("email",r.target.value),required:!0,autoComplete:"email"}),c.email&&e.jsx("p",{className:"text-sm text-red-500",children:c.email}),e.jsx("input",{type:"password",id:"password",name:"password",placeholder:"Password",className:"w-full rounded-lg border border-gray-300 bg-white p-3 text-black",value:a.password,onChange:r=>i("password",r.target.value),required:!0}),c.password&&e.jsx("div",{className:"text-sm text-red-500",children:c.password}),!t&&e.jsx("input",{type:"password",id:"confirmPassword",placeholder:"Confirm Password",className:"w-full rounded-lg border border-gray-300 bg-white p-3 text-black",value:a.confirmPassword,onChange:r=>i("confirmPassword",r.target.value),required:!0}),c.confirmPassword&&e.jsx("div",{className:"text-sm text-red-500",children:c.confirmPassword}),t&&e.jsx("div",{className:"text-right",children:e.jsx(d,{href:"/forgot-password/email",className:"text-primary",children:"Forgot Password?"})}),!t&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("input",{type:"checkbox",id:"terms",className:"mt-1",checked:a.termsAccepted,onChange:v}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-black",children:["I understood the"," ",e.jsx(d,{href:"/terms-condition",onClick:b,className:`${s.termsClicked?"text-green-600":"text-sky-400"}`,children:"Terms & Conditions"})," ","and"," ",e.jsx(d,{href:"/privacy-policy",onClick:C,className:`${s.privacyClicked?"text-green-600":"text-sky-400"}`,children:"Privacy Policy"})]})]}),y&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:"Please read the Terms & Conditions and Privacy Policy first"})]}),x&&e.jsx("p",{className:"text-sm text-red-500",children:x}),e.jsx(P,{buttonText:t?"Sign In":"Sign Up",disabled:k||!t&&(!s.termsClicked||!s.privacyClicked)})]})]})})]})})})};export{A as default};
