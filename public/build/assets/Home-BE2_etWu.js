const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CarouselDashboard-DWoU1ZRg.js","assets/app-sHW-cJX8.js","assets/app-DMNTR3vB.css","assets/CarouselDashboard-DQEB6zD3.css"])))=>i.map(i=>d[i]);
import{r as i,_,j as e}from"./app-sHW-cJX8.js";import{C as g}from"./CardComponent-D3-F0ETW.js";import{N as k}from"./NavbarTripin-CDvNkBw-.js";import"./format-BzRktsyD.js";function S({title:n,titleId:o,...p},c){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":o},p),n?i.createElement("title",{id:o},n):null,i.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const A=i.forwardRef(S),P=({credit:n,username:o,user_id:p,booking:c,notification_status:h})=>{const u=i.lazy(()=>_(()=>import("./CarouselDashboard-DWoU1ZRg.js"),__vite__mapDeps([0,1,2,3]))),[b,f]=i.useState(!1),[v,j]=i.useState(!1),[m,N]=i.useState(!1);i.useState([]);const{todays:w,upcomings:y}=c,C=new Intl.NumberFormat("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n),x=w.map(s=>{var t,a,l,r;return{id:s.booking_id,name:"Shuttle Bus Tripin",plateNumber:(t=s.trips[0])==null?void 0:t.schedule.vehicle.license_plate,origin:(a=s.trips[0])==null?void 0:a.origin,destination:(l=s.trips[0])==null?void 0:l.schedule.location.name,status:"On Trip",price:s.price,date:(r=s.trips[0])==null?void 0:r.selected_day}}),d=y.map(s=>{var t,a,l,r;return{id:s.booking_id,name:"Shuttle Bus Tripin",plateNumber:(t=s.trips[0])==null?void 0:t.schedule.vehicle.license_plate,origin:(a=s.trips[0])==null?void 0:a.origin,destination:(l=s.trips[0])==null?void 0:l.schedule.location.name,status:"Upcoming Trip",price:s.price,date:(r=s.trips[0])==null?void 0:r.selected_day}});i.useEffect(()=>{f(x.length>0),j(d.length>0)},[c]);const T=m?d:d.slice(0,2);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"h-fit w-full bg-white lg:max-w-[400px]",children:[e.jsxs("div",{className:"relative h-[222px] rounded-b-3xl bg-primary",children:[e.jsxs("div",{className:"absolute right-5 top-8",children:[e.jsx(A,{onClick:()=>window.location.href=route("notification"),className:"relative z-40 size-8 cursor-pointer text-white hover:animate-none"}),h=="unread"&&e.jsx("div",{className:"absolute right-1 top-1 z-50 size-2 rounded-full bg-primary2"})]}),e.jsx("div",{className:"relative h-[90px] pl-5 pt-8",children:e.jsx("img",{src:"/TripInLogo.svg",className:"h-8 w-16",alt:"Logo of TripIn",loading:"lazy"})}),e.jsxs("div",{className:"mx-5",children:[e.jsxs("p",{className:"text-2xl font-semibold tracking-tighter text-white sm:text-3xl",children:["Welcome, ",o]}),e.jsx("p",{className:"text-base font-medium tracking-tight text-white sm:text-lg",children:"Enjoy Your Trip!"})]})]}),e.jsxs("div",{className:"h-full min-h-[100vh] w-full px-5 pb-8",children:[e.jsxs("a",{onClick:()=>console.log("Navigate to credit screen"),className:"group relative top-[-1.5rem] mx-5 flex rounded-lg border border-primary bg-white px-5 py-2 hover:cursor-pointer",children:[e.jsx("img",{className:"mr-3",src:"/credit.svg",alt:"CreditIcon",loading:"lazy"}),e.jsxs("p",{className:"text-orange absolute left-14 top-1/2 -translate-y-1/2 text-sm",children:[C," CP"]})]}),e.jsx("button",{onClick:()=>window.location.href=route("booking.index"),className:"mb-8 w-full rounded-lg bg-primary2 py-2 text-white active:bg-primary2/85",children:"Booking"}),e.jsx("div",{className:"font-semibold text-black",children:"Available Locations"}),e.jsx("div",{className:"lg:flex lg:justify-center",children:e.jsx(i.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(u,{})})}),e.jsx("div",{className:"mb-3 mt-12 font-semibold text-black",children:"Today's Trip"}),e.jsx("div",{className:"grid gap-4",children:b?e.jsx(g,{CardProp:x}):e.jsxs("div",{className:"flex flex-col items-center justify-center pb-9",children:[e.jsx("img",{src:"/tayo-bus.svg ",loading:"lazy"}),e.jsx("p",{children:"no tayo trip available"})]})}),e.jsxs("div",{className:"mb-3 mt-16 flex items-baseline justify-between px-2",children:[e.jsx("p",{className:"text-orange font-semibold",children:"Upcoming's Trip"}),d.length>2&&e.jsx("button",{onClick:()=>N(!m),className:"text-sm font-medium text-primary2 underline",children:m?"See Less":"See More"})]}),e.jsx("div",{className:"grid gap-4",children:e.jsx("div",{className:"mb-10 grid gap-4",children:v?e.jsx(g,{CardProp:T}):e.jsxs("div",{className:"flex flex-col items-center justify-center pb-9",children:[e.jsx("img",{src:"/tayo-bus.svg"}),e.jsx("p",{children:"no tayo trip available"})]})})})]})]})}),e.jsx(k,{pageInfo:"HomePage"})]})};export{P as default};
