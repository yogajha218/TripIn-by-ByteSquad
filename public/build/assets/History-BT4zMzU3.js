import{j as e,q as c,r as d}from"./app-Bi79V33G.js";import{F as o}from"./ChevronLeftIcon-zHMDW7Eb.js";const x=({CardProp:s})=>{const r=n=>{window.location.href=`/profile/history/${n}/detail`};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"h-fit w-full rounded-md border border-[#8BAFCE80] bg-white px-4 py-5 shadow-md lg:max-w-[440px]",children:[e.jsxs("div",{className:"flex h-fit w-full",children:[e.jsx("div",{className:"",children:e.jsx("img",{src:"/shuttle_icon.svg",alt:"shuttle_icon",loading:"lazy"})}),e.jsx("div",{className:"flex items-center pl-2",children:e.jsx("p",{className:"text-black",children:s.name})}),e.jsx("div",{className:"flex-grow self-start",children:e.jsx("p",{className:"size-full cursor-pointer text-end text-xs text-primary underline",onClick:()=>r(s.logId),children:"See Detail"})})]}),e.jsx("div",{className:"grid h-full grid-cols-[1fr] py-2 pr-2",children:e.jsxs("div",{className:"relative h-full pl-9 text-black",children:[e.jsx("div",{className:"absolute left-5 top-2 size-2 rounded-full bg-grey"}),e.jsx("div",{className:"absolute left-[23px] top-3 h-3/4 w-0.5 bg-grey",children:e.jsx("div",{className:"absolute -left-[3px] top-1/2 size-2 -translate-y-[45%] rounded-full bg-grey"})}),e.jsx("div",{className:"absolute bottom-1.5 left-5 size-2 rounded-full bg-grey"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex max-h-9 flex-col justify-start overflow-hidden",children:[e.jsx("p",{className:"w-fit text-sm",children:"from:"}),e.jsx("p",{className:"w-fit text-left text-xs font-medium",children:s.origin})]}),e.jsx("div",{className:"flex flex-col items-end",children:e.jsxs("div",{className:"w-24",children:[e.jsx("p",{className:"w-fit text-sm",children:s.seat}),e.jsx("p",{className:"$} w-fit text-[10px] font-medium leading-snug",children:s.passengers})]})}),e.jsxs("div",{className:"relative flex max-h-9 flex-col justify-start overflow-hidden",children:[e.jsx("p",{className:"w-fit text-sm",children:"to:"}),e.jsx("p",{className:"w-fit text-left text-xs font-medium",children:s.destination})]}),e.jsx("div",{className:"flex flex-col items-end",children:e.jsxs("div",{className:"w-24",children:[e.jsx("p",{className:"w-fit text-sm",children:"Price:"}),e.jsx("p",{className:"w-fit text-xs font-medium",children:s.price})]})})]})]})})]})})},h=({logs:s})=>{c().props;const[r,n]=d.useState({});return d.useEffect(()=>{if(s&&Array.isArray(s)){const a=s.reduce((i,t)=>{const l=t.departure_date||"Unknown Date";return i[l]||(i[l]=[]),i[l].push({logId:t.log_id,name:"Shuttle Bus TripIn",bookingCode:t.trip.booking.booking_code,seat:`Seat ${t.trip.booking.seat_number.join(", ")}`,passengers:`${t.trip.booking.seat_total} Passenger(s)`,origin:t.departure,originTime:t.trip.schedule.departure_time,destination:t.arrival,destinationTime:t.trip.schedule.arrival_time,duration:"2 h 45 m",price:`Rp${parseInt(t.trip.booking.price).toLocaleString("id-ID")}`}),i},{});n(a)}},[s]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"lg:flex lg:justify-center",children:e.jsxs("div",{className:"bg-white lg:w-[400px]",children:[e.jsx("header",{className:"h-[108px] w-full rounded-b-lg bg-primary",children:e.jsxs("div",{className:"relative flex h-full items-center justify-center text-white",children:[e.jsx(o,{className:"absolute left-3 top-1/2 size-6 translate-y-[-50%] cursor-pointer",onClick:()=>{window.location.href="/profile"}}),e.jsx("h1",{className:"w-full text-center text-3xl font-medium",children:"History"})]})}),e.jsx("main",{className:"min-h-screen bg-white px-4 py-6",children:Object.entries(r).map(([a,i])=>e.jsxs("section",{className:"mb-6",children:[e.jsx("p",{className:"mb-5 font-semibold text-black",children:new Date(a).toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"long",year:"numeric"})}),e.jsx("div",{className:"flex flex-col gap-3",children:i.map((t,l)=>e.jsx(x,{CardProp:t},l))})]},a))})]})})})};export{h as default};
