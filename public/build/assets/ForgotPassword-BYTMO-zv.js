import{r as o,W as b,j as e}from"./app-sHW-cJX8.js";import{F as h}from"./ArrowLeftIcon-BVEhzyIc.js";const k=({email:i})=>{const[c,y]=o.useState(""),[m,j]=o.useState(""),[n,l]=o.useState(""),[r,p]=o.useState(!0),{data:a,setData:d,post:u,processing:x,errors:t}=b({email:i,password:"",confirmPassword:"",termsAccepted:!1}),w=async s=>{s.preventDefault();const g=document.head.querySelector('meta[name="csrf-token"]').content;if(c!==m){l("Passwords do not match"),p(!1);return}try{u("/forgot-password/new-password",a,{headers:{"X-CSRF-TOKEN":g}})}catch{l("Failed to reset password. Please try again.")}},f=()=>{window.location.href="/forgot-password/email"};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"lg:flex lg:justify-center",children:e.jsxs("div",{className:"flex min-h-screen flex-col bg-primary lg:w-[400px]",children:[e.jsx("div",{className:"flex justify-center bg-primary py-20",children:e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:"/TripInLogo.svg",className:"w-36",alt:"Logo of TripIn"})})}),e.jsx("div",{className:"flex-grow rounded-t-md bg-white pb-4 pt-8",children:e.jsxs("div",{className:"mx-auto px-6 md:max-w-xl lg:max-w-2xl",children:[n&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-100 p-3 text-sm text-red-600",children:n}),e.jsxs("form",{onSubmit:w,className:"w-full",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold text-black",children:"Please enter a new password"}),e.jsx("input",{type:"email",name:"email",id:"email",value:a.email,onChange:s=>d("email",s.target.value),disabled:!0,className:"mb-4 w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-black"}),e.jsx("input",{type:"password",name:"password",id:"password",placeholder:"New Password",value:a.password,onChange:s=>d("password",s.target.value),className:`mb-4 w-full rounded-lg border bg-transparent px-4 py-3 text-black focus:border-transparent focus:outline-none focus:ring-2 focus:ring-primary2 ${r?"border-gray-300":"border-red-500"}`,required:!0}),t.password&&e.jsx("div",{className:"text-sm text-red-500",children:t.password}),e.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm New Password",value:a.confirmPassword,onChange:s=>d("confirmPassword",s.target.value),className:`mb-6 w-full rounded-lg border bg-transparent px-4 py-3 text-black focus:border-transparent focus:outline-none focus:ring-2 focus:ring-primary2 ${r?"border-gray-300":"border-red-500"}`,required:!0}),t.confirmPassword&&e.jsx("div",{className:"text-sm text-red-500",children:t.confirmPassword}),e.jsx("button",{type:"submit",className:`w-full rounded-lg bg-primary2 py-3 font-medium text-white ${r?"transition-opacity hover:opacity-90":"cursor-not-allowed opacity-70"} `,disabled:!r||x,children:"Reset Password"}),e.jsxs("div",{className:"flex h-fit w-full cursor-pointer items-center justify-center",onClick:f,children:[e.jsx(h,{className:"size-4 text-primary2"}),e.jsxs("p",{className:"text-sm text-primary2",children:[" ","go back to Sign In"]})]})]})]})})]})})})};export{k as default};
