import{r as l,j as e,b as f}from"./app-BAjVzL0_.js";import{F as u}from"./ArrowLeftIcon-BMwkf2QF.js";const g=({email:m})=>{const[a,d]=l.useState(["","","",""]),[n,c]=l.useState(""),x=(o,t)=>{if(t.length<=1&&/^\d*$/.test(t)){const s=[...a];if(s[o]=t,d(s),t&&o<3){const r=document.querySelector(`input[name="code-${o+1}"]`);r==null||r.focus()}}},i=async o=>{o.preventDefault();const t=document.head.querySelector('meta[name="csrf-token"]').content,s=a.join("");try{(await f.post("/forgot-password/otp/verify",{email:m,otp:s},{headers:{"X-CSRF-TOKEN":t}})).status===200&&(window.location.href="/forgot-password")}catch(r){r.response&&r.response.data.message?c(r.response.data.message):c("An unexpected error occurred. Please try again.")}},p=(o,t)=>{if(t.key==="Backspace"&&!a[o]&&o>0){const s=document.querySelector(`input[name="code-${o-1}"]`);s==null||s.focus()}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex min-h-screen flex-col bg-primary lg:w-[400px]",children:[e.jsx("div",{className:"relative w-full py-20",children:e.jsx("div",{className:"flex flex-none justify-center px-4",children:e.jsx("img",{src:"/TripInLogo.svg",className:"w-36 object-contain",alt:"Logo of TripIn"})})}),e.jsx("div",{className:"flex-grow rounded-t-lg bg-white p-6",children:e.jsxs("div",{className:"mx-auto max-w-md p-2",children:[e.jsx("h1",{className:"mb-2 text-2xl font-semibold text-black",children:"Letâ€™s Verify Your Account!"}),e.jsx("p",{className:"mb-8 text-gray-500",children:"We just sent an OTP code to your email. Check your inbox and enter the code below to keep going! ðŸš€"}),e.jsxs("form",{onSubmit:i,children:[e.jsx("div",{className:"mb-8 flex justify-between gap-3",children:a.map((o,t)=>e.jsx("input",{type:"text",inputMode:"numeric",name:`code-${t}`,value:o,onChange:s=>x(t,s.target.value),onKeyDown:s=>p(t,s),className:"h-16 w-16 rounded-xl border-2 border-gray-200 bg-transparent text-center text-xl font-semibold text-black transition-colors focus:border-gray-400 focus:outline-none",maxLength:1},t))}),n&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:n}),e.jsx("button",{type:"submit",className:"w-full rounded-xl bg-primary2 py-4 font-semibold text-white transition-opacity hover:opacity-90 active:scale-[0.99]",onClick:i,children:"Confirm"}),e.jsxs("div",{className:"flex cursor-pointer items-center justify-center gap-1 p-5",onClick:()=>history.back(),children:[e.jsx(u,{className:"size-3 text-primary2"}),e.jsx("p",{className:"text-sm text-primary2",children:"go back"})]})]})]})})]})})})};export{g as default};
