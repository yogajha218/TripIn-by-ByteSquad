import{r as o,W as b,j as e}from"./app-BnX73pR_.js";import{F as h}from"./ArrowLeftIcon-BcjAyPHO.js";const k=({email:i})=>{const[c,y]=o.useState(""),[m,j]=o.useState(""),[n,l]=o.useState(""),[r,p]=o.useState(!0),{data:a,setData:d,post:u,processing:x,errors:t}=b({email:i,password:"",confirmPassword:"",termsAccepted:!1}),w=async s=>{s.preventDefault();const g=document.head.querySelector('meta[name="csrf-token"]').content;if(c!==m){l("Passwords do not match"),p(!1);return}try{u("/forgot-password/new-password",a,{headers:{"X-CSRF-TOKEN":g}})}catch{l("Failed to reset password. Please try again.")}},f=()=>{window.location.href="/forgot-password/email"};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"lg:flex lg:justify-center",children:e.jsxs("div",{className:"min-h-screen bg-primary flex flex-col lg:w-[400px]",children:[e.jsx("div",{className:"flex justify-center py-20 bg-primary",children:e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:"/TripInLogo.svg",className:"w-36 ",alt:"Logo of TripIn"})})}),e.jsx("div",{className:"bg-white rounded-t-md pt-8 pb-4 flex-grow",children:e.jsxs("div",{className:"px-6 md:max-w-xl lg:max-w-2xl mx-auto",children:[n&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-600 rounded-lg text-sm",children:n}),e.jsxs("form",{onSubmit:w,className:"w-full",children:[e.jsx("h2",{className:"text-xl text-black font-semibold mb-4",children:"Please enter a new password"}),e.jsx("input",{type:"email",name:"email",id:"email",value:a.email,onChange:s=>d("email",s.target.value),disabled:!0,className:"w-full px-4 py-3 text-black border border-gray-300 rounded-lg mb-4 bg-gray-50"}),e.jsx("input",{type:"password",name:"password",id:"password",placeholder:"New Password",value:a.password,onChange:s=>d("password",s.target.value),className:`w-full px-4 py-3 text-black bg-transparent border rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-primary2 focus:border-transparent
                ${r?"border-gray-300":"border-red-500"}`,required:!0}),t.password&&e.jsx("div",{className:"text-red-500 text-sm",children:t.password}),e.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm New Password",value:a.confirmPassword,onChange:s=>d("confirmPassword",s.target.value),className:`w-full px-4 py-3 text-black bg-transparent border rounded-lg mb-6 focus:outline-none focus:ring-2 focus:ring-primary2 focus:border-transparent
                ${r?"border-gray-300":"border-red-500"}`,required:!0}),t.confirmPassword&&e.jsx("div",{className:"text-red-500 text-sm",children:t.confirmPassword}),e.jsx("button",{type:"submit",className:`w-full bg-primary2 text-white py-3 rounded-lg font-medium
                ${r?"hover:opacity-90 transition-opacity":"opacity-70 cursor-not-allowed"}
              `,disabled:!r||x,children:"Reset Password"}),e.jsxs("div",{className:"w-full h-fit cursor-pointer flex justify-center items-center p-5",onClick:f,children:[e.jsx(h,{className:"size-4 text-primary2"}),e.jsxs("p",{className:"text-sm text-primary2",children:[" ","go back to Sign In"]})]})]})]})})]})})})};export{k as default};
