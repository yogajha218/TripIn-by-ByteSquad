import{r as l,j as e,b as f}from"./app-wdD6veFE.js";import{F as u}from"./ArrowLeftIcon-B6GHgHOM.js";const g=({email:m})=>{const[n,d]=l.useState(["","","",""]),[a,c]=l.useState(""),x=(o,t)=>{if(t.length<=1&&/^\d*$/.test(t)){const s=[...n];if(s[o]=t,d(s),t&&o<3){const r=document.querySelector(`input[name="code-${o+1}"]`);r==null||r.focus()}}},i=async o=>{o.preventDefault();const t=document.head.querySelector('meta[name="csrf-token"]').content,s=n.join("");try{(await f.post(route("password.otp.verify"),{email:m,otp:s},{headers:{"X-CSRF-TOKEN":t}})).status===200&&(window.location.href="/forgot-password")}catch(r){r.response&&r.response.data.message?c(r.response.data.message):c("An unexpected error occurred. Please try again.")}},p=(o,t)=>{if(t.key==="Backspace"&&!n[o]&&o>0){const s=document.querySelector(`input[name="code-${o-1}"]`);s==null||s.focus()}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex flex-col min-h-screen bg-primary lg:w-[400px]",children:[e.jsx("div",{className:"relative w-full py-20",children:e.jsx("div",{className:"flex-none flex justify-center px-4",children:e.jsx("img",{src:"/TripInLogo.svg",className:"w-36 object-contain",alt:"Logo of TripIn"})})}),e.jsx("div",{className:"flex-grow bg-white rounded-t-lg p-6",children:e.jsxs("div",{className:"max-w-md mx-auto p-2",children:[e.jsx("h1",{className:"text-2xl font-semibold text-black mb-2",children:"Letâ€™s Verify Your Account!"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"We just sent an OTP code to your email. Check your inbox and enter the code below to keep going! ðŸš€"}),e.jsxs("form",{onSubmit:i,children:[e.jsx("div",{className:"flex justify-between gap-3 mb-8",children:n.map((o,t)=>e.jsx("input",{type:"text",inputMode:"numeric",name:`code-${t}`,value:o,onChange:s=>x(t,s.target.value),onKeyDown:s=>p(t,s),className:`w-16 h-16 border-2 border-gray-200 rounded-xl
                          text-center bg-transparent text-xl text-black
                          font-semibold focus:border-gray-400 focus:outline-none
                          transition-colors`,maxLength:1},t))}),a&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:a}),e.jsx("button",{type:"submit",className:`w-full bg-primary2 text-white py-4 rounded-xl
             font-semibold hover:opacity-90 transition-opacity
             active:scale-[0.99]`,onClick:i,children:"Confirm"}),e.jsxs("div",{className:"flex justify-center items-center gap-1 p-5 cursor-pointer",onClick:()=>history.back(),children:[e.jsx(u,{className:"text-primary2 size-3"}),e.jsx("p",{className:"text-sm text-primary2",children:"go back"})]})]})]})})]})})})};export{g as default};
